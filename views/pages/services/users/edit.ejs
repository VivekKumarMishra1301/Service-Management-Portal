<% var title='Edit User Page' %>
    <% var page='EditUser' %>
        <% var body=false %>
            <% include ../../layouts/master %>
                <% include ../../partials/header%>
                    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css"
                        rel="stylesheet" />
                    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
                    <div class="main-content">
                        <section class="section">
                            <div class="section-header">
                                <h1>User</h1>
                                <div class="section-header-breadcrumb">
                                    <div class="breadcrumb-item active"><a href="/dashboardAdminLogin">Dashboard</a>
                                    </div>
                                    <div class="breadcrumb-item"><a href="/users">Users</a></div>
                                    <div class="breadcrumb-item">Edit</div>
                                </div>
                            </div>
                            <% if(errmessage !='' ){%>
                                <div class="alert alert-danger alert-dismissible show fade errmessage">
                                    <div class="alert-body">
                                        <button class="close" data-dismiss="alert">
                                            <span>&times;</span>
                                        </button>
                                        <%= errmessage %>
                                    </div>
                                </div>
                                <% } %>
                                    <div class="section-body">
                                        <h2 class="section-title">Edit User</h2>
                                        <p class="section-lead">
                                            Edit user according to the form requirement .
                                        </p>
                                        <div class="row">
                                            <div class="col-12 col-md-12 col-lg-12">
                                                <div class="card">
                                                    <form method="POST" action="/updateUser" class="needs-validation"
                                                        novalidate="" enctype="multipart/form-data">
                                                        <input value="<%= user._id %>" name="id"
                                                            style="display: none;" />
                                                        <div class="card-header">
                                                            <h4>User Details</h4>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class=" d-flex justify-content-between">
                                                                <div class="form-group col-6">
                                                                    <label>Username</label>
                                                                    <input type="text" class="form-control" pattern="([A-zÀ-ž\s]){2,}"
                                                                        name="name" required=""
                                                                        placeholder="Enter name"
                                                                        value="<%= user.name %>">
                                                                    <div class="invalid-feedback">
                                                                        What's your name?
                                                                    </div>
                                                                </div>
                                                                <div class="form-group col-6">
                                                                    <label>Email</label>
                                                                    <input type="email" class="form-control"
                                                                        name="email" required=""
                                                                        placeholder="Enter Email"
                                                                        value="<%= user.email %>">
                                                                    <div class="invalid-feedback">
                                                                        Oh no! Email is invalid.
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class=" d-flex justify-content-between">
                                                                <div class="form-group col-6">
                                                                    <label>Password</label>
                                                                    <input type="password" class="form-control"
                                                                        placeholder="Enter  Password"
                                                                        name="password" required=""
                                                                        value="<%= user.password %>"
                                                                        readonly="readonly">
                                                                    <div class="invalid-feedback">
                                                                        Oh no! Password is required.
                                                                    </div>
                                                                </div>
                                                                <div class="form-group col-6">
                                                                    <label>Phone Number</label>
                                                                    <input type="tel" class="form-control"
                                                                        name="phoneNumber" required=""
                                                                        placeholder="Enter Phone Number"
                                                                        pattern="[789][0-9]{9}" maxlength="10"
                                                                        value="<%= user.phoneNumber %>">
                                                                    <div class="invalid-feedback">
                                                                        Oh no! Phone number is required and must be
                                                                        valid.
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div class=" d-flex justify-content-between">
                                                                <div class="form-group col-6">
                                                                    <label>Image</label>
                                                                    <input type="file" name="image"
                                                                        class="form-control" />
                                                                    <% if(user.fileType=="image" ){ %>
                                                                        <img src="<%= user.file %>" width="100px"
                                                                            height="100px" name />
                                                                        <% }else{ %>
                                                                            <video src=" <%=user.file %>" width="100px"
                                                                                autoplay muted height="100px" />
                                                                            <% } %>
                                                                                <input type="hidden"
                                                                                    value="<%= user.file %>"
                                                                                    name="old_image" />
                                                                                <input type="hidden"
                                                                                    value="<%= user.fileType %>"
                                                                                    name="old_fileType" />
                                                                </div>
                                                            </div>
                                                            <div class=" form-group col-sm-12 col-md-12 col-lg-12">
                                                                <label>Description</label>
                                                                <textarea class="summernote"
                                                                    placeholder="Enter Description"
                                                                    name="description"><%=user.description %></textarea>
                                                            </div>
                                                        </div>
                                                        <div class="card-footer text-right" style="padding-right:40px">
                                                            <button class="btn btn-primary" style="font-size: 14px;">Submit</button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                        </section>
                    </div>
                    <% include ../../partials/footer%>